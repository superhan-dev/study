# 작성일

- 2025-11-25

# v8 엔진

자바스크립트를 실행시키는 엔진이며, Java에 JVM과 같은 역할을 한다.

## v8 엔진 역할

1. 파싱 (Parsing)
   - 소스 코드를 읽어서 토큰(token)으로 쪼갠 다음 AST(Abstract Syntax Tree)로 변환 (문법 검사 까지)
2. 바이트 코드 생성 (Ignition 인터프리터)
   - AST -> Ignition용 바이트코드/머신 코드 변환
   - JIT 최적화
     - 자주 실행되는 코드를 머신코드(기계어)로 재컴파일
3. 실행 (Execution)
   - 생성한 코드를 싱글스레드 실행 컨텍스트 + 콜스택에서 실행
     - 함수를 호출하면 실행컨텍스트가 콜스텍에 push되고 LIFO로 pop면서 실행
4. 메모리 관리 / 가비지 컬렉션(GC)
   - JS객체, 배열, 함수 등 힙 메모리를 관리
   - 주기적으로 미사용 인스턴스 GC
5. 내장 객체/연산 제공
   - Array, Object, Map, Set, Promise 등 빌트인 객체를 제공하고
   - 산술/논리 연산, 비교, 함수 호출 등 언어 동작을 실제로 구현

## 컴파일은 라인별로 컴파일 되는 것인가?

그렇다. Javascript는 기본적으로 인터프리터 언어이다. 소스를 읽고 토크나이징 하여 AST로 파싱된 트리를 컴파일 후 실행한다.

그러나 한 줄씩 읽어서 컴파일 하는 것은 아니다. AST를 컴파일 하게되는데 스크립트 또는 함수 단위로 바이트코드를 만들고 실행한다.

또한 JIT 컴파일러라는 것을 사용해서 자주 사용되는 코드는 기계어로 컴파일 해두는 관리까지 함으로써 인터프리터 + JIT 하이브리드 조합으로 JS를 실행한다.

때문에 인터프리터 언어라고는 하지만 구현적인 측면에서는 컴파일 언어와 흡사하게 동작하기도 한다.

# 정리

JS는 인터프리터 언어라는 이론적 개념만 가지고 내부 구조를 이해하려고 한다면 제대로 이해가 되지 않는다. 오히려 바이트 코드로 언어를 실행시키고, 힙 메모리에 인스턴스들을 관리하며 사용되지 않는 객체는 GC를 하는 것 까지 Java JVM 내부에서 동작하는 것과 유사한 개념들이 더 많았다.
