# 작성일

- 2025-12-09

# 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라.

## 자원을 사용하지 말라는 말의 의미

프로그램에서 자원이란 어떤 것을 의미하는걸까? 자바는 객체지향 언어이다보니 책에서 의미하는 자원이란 유틸리티나 클래스에 주입되는 또 다른 클래스를 의미한다.

다음과 같이 의존성을 주입하는 방식으로 사용한다면 `new Spellchecker(new LexiconImpl())` 과 같이 선언해서 Lexicon을 얼마든지 확장할 수 있고 바꿔 껴넣을 수 있게된다.
따라서 재사용 가능하며 확장에도 용의해진다.

이를 DI라고 표현하며 스프링과 nestjs에서 흔히 사용하는 의존성 주입 방식이다.

```java

interface Lexicon {}

public SpellChecker {
    private final Lexicon dictionary;

    public SpellChecker(Lexicon dictionary){
        this.dictionary = Objects.requireNonNull(dictionary);
    }

    public boolean isValid(String word){....}
}
```

이와 같이 dictionary를 주입하면 생성자를 통해 의존성을 주입한것이다. 여기서 Lexicon은 인터페이스를 사용할 것으로 예상되며 이와 같이 정의했을때 다음과 같이 객체를 정의하고 확장할 수 있다.

자원을 직접 명시한다는건 다음과 같이 선언과 동시에 new를 사용해서 생성 하는 것을 의미한다.
이와 같이 정의하면 확장성이 떨어지고 Lexicon이 바뀐다면 SpellChecker도 변경되어야 하는 OCP를 어기게 되는 불안전한 설계가 되어버릴 수 있다.

```java
public SpellChecker {
    private final Lexicon dictionary = new Lexicon(); // 객체 직접 주입

    public SpellChecker(Lexicon dictionary){}

    public boolean isValid(String word){....}
}
```
