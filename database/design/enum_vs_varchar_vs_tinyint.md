# Enum Vs Varchar Vs tinyint

# 작성일

- 2025-10-22

# mysql enum 타입의 특징과 단점

1. 정규화에 위반되는 설계
1. enum 컬럼에 정의된 값 재사용 불가
1. 스키마 변경 비용(DDL)
   - 값 추가/수정/삭제가 전부 ALTER TABLE이고, 버전에 따라 테이블 재작성이 일어나 성능/락 이슈 가능.
1. 배포·환경 간 드리프트
   - dev/stage/prod에서 ENUM 정의가 조금만 달라도 INSERT/SELECT 동작이 달라짐(실패·암묵 변환). 마이그레이션 순서 의존이 큼.
1. 표현-저장 강결합
   - 저장값이 곧 라벨이라 i18n(다국어 라벨), 표시 순서, 색상 같은 메타데이터를 못 붙임. 라벨 바꾸면 DDL 필요.
1. 암묵적 숫자 순서/정렬 함정
   - ORDER BY가 선언 순서 기준(문자 정렬 아님). UNION/비교 시 **정수 인덱스(1,2,3…)**로 암묵 변환되어 의도치 않은 결과가 날 수 있음.
1. 삭제·폐기 어려움

   - 이미 쓰인 값을 ENUM 정의에서 빼기 어렵다(남아있는 행들 처리 필요). “비활성/폐기” 상태를 만들기 곤란.

1. 참조 무결성/재사용 불가

   - 질문에 적은 대로 다른 테이블과 FK로 공유 불가. 동일한 도메인 값을 여러 테이블에서 쓰면 동일성 보장 어려움.

1. ORM/이식성 제약

   - RDBMS 간 이식이 힘들고, ORM에서 ENUM 매핑이 제약적일 때가 많음(테스트/Mock DB로 교체도 불편).

1. 검증·에러 처리 애매함

   - 잘못된 값이 들어오면 버전에 따라 빈 문자열로 저장되거나 경고만 나는 등 일관성↓(SQL_MODE에 의존).

1. 유연성 부족
   - “값 + 속성(정렬우선순위, 그룹, 표시명, 아이콘 등)” 구조를 만들 수 없음 → 결국 또 다른 컬럼/테이블이 필요.
1. 분류(카테고리)/테넌트별 커스터마이징에 취약
   - 테넌트마다 값이 다르면 ENUM으로는 대응 불가. 멀티테넌시에 약함.

# Varchar 사용시 단점

1. 데이터 정합성 약함(오타·변형)

   - active, Active, 활성, acitve(오타) 등 아무 값이나 들어갈 수 있어요.

1. 대소문자/스페이스/하이픈/언더스코어 등 표기 불일치가 누적됩니다.

   - → CHECK나 FK 없으면 시간이 지날수록 카테고리가 쪼개짐.

1. Collation 영향(같음/정렬이 의도와 다름)

   - MySQL 기본은 대소문자 구분 안 함(ci). ACTIVE와 active가 같은 값으로 취급돼 고유성·JOIN 결과에 혼란.
   - 정렬도 collation 규칙을 따라 의외의 순서가 나옵니다. 비즈니스 정의 순서를 표현하기 어려움.

1. 인덱스/스토리지 비용

   - 숫자/ENUM 대비 인덱스가 큼 → 메모리/디스크/캐시 부담, 통계 품질 저하로 계획 예측성도 떨어짐.
   - 긴 문자열은 세컨더리 인덱스 효율을 급격히 낮춤(특히 InnoDB).

1. 성능 예측 어려움

   - 비교·정렬 시 collation 규칙(유니코드 정규화 포함) 적용 → CPU 비용 증가.
   - 통계상 카디널리티 추정이 불안정해 쿼리 플랜이 요동칠 수 있음(특히 다양한 문자열 값이 섞일 때).

1. 의미/라벨이 곧 키가 되어 ‘변경’이 힘듦

   - 라벨 텍스트를 바꾸면 데이터 값 자체를 전표 전반에 바꿔야 함(대규모 UPDATE/락/이중배포 필요).
   - 비즈니스상 “표시라벨만 바꾸자”가 불가능해짐. (라벨과 키가 분리되어 있지 않기 때문)

1. 1국제화(i18n) 확장 난해

   - 한국어/영어/일본어 라벨을 값으로 직접 저장하면 다국어가 열 값 폭발로 이어짐.
   - 같은 개념을 언어별 문자열로 구분하지 못해 조인/집계가 어려워짐.

1. 규칙·정렬·가중치 부여 어려움

   - “진행중(2) > 대기(1) > 완료(3)” 같은 도메인 정렬을 하려면 CASE 식을 매번 작성해야 함.
   - 관리 화면, 리포트, 쿼리 모두에 중복 로직이 생김.

1. 참조 무결성 부재

   - 다른 테이블에서 같은 코드를 써도 FK로 연결할 수 없음(그냥 텍스트).
   - 삭제/변경 시 종속 데이터의 무결성을 DB 레벨에서 보장하기 어려움.

1. 마이그레이션 리스크

   - 문자열 길이·표기 규칙 변경, collation 교체 시 전표 전체 스캔/재인덱싱이 필요.
   - ENUM/숫자 FK 대비 스키마 변경 영향도가 큽니다.

1. NULL/빈문자열 경계 혼란
   - NULL vs ''(빈 문자열) 의미 차이 관리가 어렵고, 애플리케이션/BI에서 해석 불일치가 잦아요.
